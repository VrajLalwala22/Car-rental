{"ast":null,"code":"var _jsxFileName = \"E:\\\\Gautam\\\\Group-5_Car Rental System\\\\CarRental_Project\\\\car-rental_system_frontend\\\\src\\\\User\\\\pages\\\\User\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect, useHistory } from \"react-router\";\nimport { url } from \"../../../Commons/constants\";\nimport React from \"react\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let flag = \"false\";\n  const history = useHistory();\n\n  const CheckRole = role => {\n    if (role === \"user\") {\n      history.push(\"/car_list\");\n    } else if (role === \"admin\") {\n      history.push(\"admin_dashboard\");\n    } else {\n      history.push(\"employee_dashboard\");\n    }\n  };\n\n  const validUser = () => {\n    if (email.length === 0) {\n      alert(\"Enter your email\");\n    } else if (password.length === 0) {\n      alert(\"Enter your password\");\n    } else {\n      const data = {\n        email: email,\n        password: password\n      };\n      axios.post(url + \"/user/authenticate\", data).then(response => {\n        const result = response.data;\n        console.log(result.status);\n        console.log(result);\n\n        if (result.status === \"success\") {\n          alert(\"login Successfully\");\n          flag = \"true\";\n          CheckRole(result.data.role);\n          sessionStorage.setItem(\"isActive\", flag);\n          sessionStorage.setItem(\"user\", JSON.stringify(result));\n        } else {\n          alert(\"Invalid usename or password\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      class: \"form-signin\",\n      style: {\n        marginTop: \"150px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fas fa-user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"h3 mb-3 fw-normal\",\n        children: \"Please sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setEmail(event.target.value);\n          },\n          type: \"email\",\n          class: \"form-control\",\n          id: \"floatingInput\",\n          placeholder: \"name@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingInput\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setPassword(event.target.value);\n          },\n          type: \"password\",\n          class: \"form-control\",\n          id: \"floatingPassword\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingPassword\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating\",\n          children: [\"Can't Remember Password, \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/reset_password\",\n            children: \"click \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 34\n          }, this), \" here to reset your password.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-100 btn btn-primary\",\n        onClick: validUser,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [\"Not a User, \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }, this), \" here.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"mt-5 mb-3 text-muted\",\n        children: \"\\xA9 2022\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"cJr7VbQ/R8GRPXZytKWZJrG6uB8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["E:/Gautam/Group-5_Car Rental System/CarRental_Project/car-rental_system_frontend/src/User/pages/User/Login.js"],"names":["axios","useState","Link","Redirect","useHistory","url","React","Login","email","setEmail","password","setPassword","flag","history","CheckRole","role","push","validUser","length","alert","data","post","then","response","result","console","log","status","sessionStorage","setItem","JSON","stringify","marginTop","event","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect, useHistory } from \"react-router\";\nimport { url } from \"../../../Commons/constants\";\nimport React from \"react\";\nimport \"./Login.css\";\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let flag = \"false\";\n  const history = useHistory();\n\n  const CheckRole = (role) => {\n    if (role === \"user\") {\n      history.push(\"/car_list\");\n      } else if (role === \"admin\") {\n      history.push(\"admin_dashboard\");\n    } else {\n      history.push(\"employee_dashboard\");\n    }\n  };\n  const validUser = () => {\n    if (email.length === 0) {\n      alert(\"Enter your email\");\n    } else if (password.length === 0) {\n      alert(\"Enter your password\");\n    } else {\n    \n      const data = {\n        email: email,\n        password: password,\n      };\n\n      axios.post(url + \"/user/authenticate\", data).then((response) => {\n        const result = response.data;\n        console.log(result.status);\n        console.log(result);\n        if (result.status === \"success\") {\n          alert(\"login Successfully\");\n          flag = \"true\";\n          CheckRole(result.data.role);\n          sessionStorage.setItem(\"isActive\", flag);\n          sessionStorage.setItem(\"user\", JSON.stringify(result));\n        } else {\n          alert(\"Invalid usename or password\");\n        }\n      });\n    }\n  };\n  return (\n\n    \n    <div className=\"text-center\">\n      <main class=\"form-signin\" style={{ marginTop: \"150px\"}}>\n        <i class=\"fas fa-user\"></i>\n        <h1 class=\"h3 mb-3 fw-normal\">Please sign in</h1>\n        <div class=\"form-floating\">\n          <input\n            onChange={(event) => {\n              setEmail(event.target.value);\n            }}\n            type=\"email\"\n            class=\"form-control\"\n            id=\"floatingInput\"\n            placeholder=\"name@example.com\"\n          />\n          <label for=\"floatingInput\">Email address</label>\n        </div>\n        <div class=\"form-floating\">\n          <input\n            onChange={(event) => {\n              setPassword(event.target.value);\n            }}\n            type=\"password\"\n            class=\"form-control\"\n            id=\"floatingPassword\"\n            placeholder=\"Password\"\n          />\n          <label for=\"floatingPassword\">Password</label>\n        </div>\n        <div className=\"form-floating\">\n\n\n        <div className=\"form-floating\">\n        Can't Remember Password, <Link to=\"/reset_password\">click </Link> here to reset your password.\n        </div>\n        </div>\n        <button className=\"w-100 btn btn-primary\" onClick={validUser}>\n          Log In\n        </button>\n        \n        <div className=\"form-floating\">\n          Not a User, <Link to=\"/register\">Register</Link> here.\n        </div>\n\n      \n        <p class=\"mt-5 mb-3 text-muted\">&copy; 2022</p>\n      </main>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}